{% extends "accounts/base.html" %}
{% block content %}
<h1 class="mb-4 fw-bold">Dashboard — Dulcería Lilis</h1>
<p>Bienvenido/a, <strong>{{ user.username }}</strong>. Visitas: <span class="badge bg-info">{{ visitas }}</span></p>

<div class="row g-4 mb-3">
  <div class="col-md-3">
    <div class="card shadow-sm border-primary h-100">
      <div class="card-body text-center">
        <i class="bi bi-person-circle display-4 text-primary"></i>
        <h6 class="fw-bold mt-2">Usuarios</h6>
        <div class="h4">12</div>
        <div class="progress" style="height:6px;"><div class="progress-bar bg-primary" style="width: 80%"></div></div>
      </div>
    </div>
  </div>
  <div class="col-md-3">
    <div class="card shadow-sm border-success h-100">
      <div class="card-body text-center">
        <i class="bi bi-box-fill display-4 text-success"></i>
        <h6 class="fw-bold mt-2">Productos</h6>
        <div class="h4">58</div>
        <div class="progress" style="height:6px;"><div class="progress-bar bg-success" style="width: 70%"></div></div>
      </div>
    </div>
  </div>
  <div class="col-md-3">
    <div class="card shadow-sm border-warning h-100">
      <div class="card-body text-center">
        <i class="bi bi-building display-4 text-warning"></i>
        <h6 class="fw-bold mt-2">Proveedores</h6>
        <div class="h4">7</div>
        <div class="progress" style="height:6px;"><div class="progress-bar bg-warning" style="width: 50%"></div></div>
      </div>
    </div>
  </div>
  <div class="col-md-3">
    <div class="card shadow-sm border-info h-100">
      <div class="card-body text-center">
        <i class="bi bi-bar-chart-fill display-4 text-info"></i>
        <h6 class="fw-bold mt-2">Movimientos</h6>
        <div class="h4">23</div>
        <div class="progress" style="height:6px;"><div class="progress-bar bg-info" style="width: 60%"></div></div>
      </div>
    </div>
  </div>
</div>

<div class="row g-4">
  <div class="col-md-6">
    <div class="card shadow-sm h-100">
      <div class="card-header bg-white fw-bold">
        <i class="bi bi-clock-history me-1"></i> Timeline
      </div>
      <div class="card-body">
        <ul class="list-group list-group-flush">
          <li class="list-group-item"><span class="badge text-bg-primary me-2">10:42</span> Pedido #456 entregado</li>
          <li class="list-group-item"><span class="badge text-bg-success me-2">09:21</span> Nuevo usuario: juanperez</li>
          <li class="list-group-item"><span class="badge text-bg-info me-2">Ayer</span> Stock producto XYZ actualizado</li>
        </ul>
      </div>
    </div>
  </div>
  <div class="col-md-6">
    <div class="card shadow-sm h-100">
      <div class="card-header bg-white fw-bold">
        <i class="bi bi-bar-chart-line-fill me-1"></i> Actividad
      </div>
      <div class="card-body">
        <!-- Simple bar chart: use Bootstrap progress bars for each bar -->
        <div class="mb-2">Hoy</div>
        <div class="d-flex align-items-end mb-3">
          <div class="me-1">
            <div class="bg-primary rounded" style="height:40px;width:18px;"></div>
            <small class="d-block text-center">U</small>
          </div>
          <div class="me-1">
            <div class="bg-success rounded" style="height:34px;width:18px;"></div>
            <small class="d-block text-center">P</small>
          </div>
          <div class="me-1">
            <div class="bg-info rounded" style="height:28px;width:18px;"></div>
            <small class="d-block text-center">T</small>
          </div>
          <div class="me-1">
            <div class="bg-warning rounded" style="height:22px;width:18px;"></div>
            <small class="d-block text-center">M</small>
          </div>
        </div>
        <small class="text-muted">Usuarios(U), Productos(P), Proveedores(T), Movimientos(M)</small>
      </div>
    </div>
  </div>
</div>

<div class="row g-4 mt-3">
  <div class="col-md-3">
    <a href="{% url 'Formulario' %}" class="card text-center text-decoration-none border-primary border-2 shadow-sm h-100 card-hover">
      <div class="card-body">
        <i class="bi bi-person-vcard display-6 text-primary"></i>
        <h5 class="fw-bold">Usuarios</h5>
        <p class="small text-muted">Gestión de usuarios</p>
      </div>
    </a>
  </div>
  <div class="col-md-3">
    <a href="{% url 'Productos' %}" class="card text-center text-decoration-none border-success border-2 shadow-sm h-100 card-hover">
      <div class="card-body">
        <i class="bi bi-box-seam display-6 text-success"></i>
        <h5 class="fw-bold">Productos</h5>
        <p class="small text-muted">Inventario</p>
      </div>
    </a>
  </div>
  <div class="col-md-3">
    <a href="{% url 'Proveedores' %}" class="card text-center text-decoration-none border-warning border-2 shadow-sm h-100 card-hover">
      <div class="card-body">
        <i class="bi bi-building-fill-gear display-6 text-warning"></i>
        <h5 class="fw-bold">Proveedores</h5>
        <p class="small text-muted">Relaciones comerciales</p>
      </div>
    </a>
  </div>
  <div class="col-md-3">
    <a href="{% url 'Transaccional' %}" class="card text-center text-decoration-none border-info border-2 shadow-sm h-100 card-hover">
      <div class="card-body">
        <i class="bi bi-ui-checks display-6 text-info"></i>
        <h5 class="fw-bold">Inventario</h5>
        <p class="small text-muted">Movimientos</p>
      </div>
    </a>
  </div>
</div>
{% endblock %}
